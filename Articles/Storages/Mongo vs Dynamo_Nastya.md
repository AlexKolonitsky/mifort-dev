# DynamoDB vs MongoDb

Существенным отличием этих двух NoSql баз данных является не только синтаксис и принцип запросов, но и немаловажный момент самой архитектуры и сопроводительных сервисов. 

Облачная платформа Amazone берет на себя ответственность  за установку, обслуживание и реализацию всех дополнительных сервисов. Все, что вам необходимо - в той или иной консоле управления кликать по требуемым элементам. Разумеется, за отдельные моменты взимается плата. В то же время, основная идея оплаты в Amazone DynamoDb - это не сам факт настройки, а интенсивность использования. Она хорошо подходит для приложений, которые в последующем могут значительно расширяться. При выборе DynamoDb последнее будет происходить без заметных усилий со стороны разработчиков. Так, увеличить пропускную способность, сделать реплики базы в разных регионах, настроить консистентность данных, обеспечить политику безопасности и прочее можно в несколько кликов. 
> Существует локальная версия DynamoDb, применение которой в основном сводится к разработке и тестированию работы приложения и данной базы данных. Однако обычно DynamoDb используется именно как сервис Amazone. В то время как MongoDb часто ставят и настраивают локально на сервере.

## Особенности запросов в DynamoDB и MongoDb

Если обратить внимание на язык запросов, то можно заметить некоторую громоздкость при попытке использовать сложные в них структуры, работая с DynamoDb, по сравнению с MongoDb. Стоит отметить, что в DynamoDb существуют различные ограничения при работе с запросами, основная идея - это работа через ключи. В этой базе данных можно наблюдать четкое и фиксированное разделение ключевых полей(sorted и partition keys) и не ключевых. Для вариативной работы с данными не только по ключу, существует такой функционал, как индексы: local и global. Но работа с ними требует дополнительной практики. Также на них наложен ряд ограничений, которые затрагивают следующие моменты: количество индексов на одну таблицу (можно вводить не более 5 каждого вида), формат запросов (в особенности это касается partition key), что, в свою очередь, усложняет поиск не по ключевым полям.
> Стоит учесть, что local indexes создаются в момент создания таблицы, поэтому стоит предусмотреть необходимость их наличия заранее.

В mongoDb индексы тоже существуют, но с б*о*льшим разнообразием синтаксиса.

## Организация пагинации в DynamoDB и MongoDb

Можно наблюдать существенное отличие в таком параметре как limit, которое заключается в следующем: в DynamoDb это ограничение на количество просматриваемых  записей, в MongoDb - ограничение найденных или возвращаемых записей. Таким образом, в DynamoDB вы не можете найти просто первые 5 значений соответствующих  фильтрам, скорее проверите 5 элементов, и есть вероятность не получить действительных результатов, если не будет соответствия условию. 

Данная идеологическая разница в работе этих свойств влияет на организацию таких моментов как пагинация и сортировка(на стороне базы) поставляемых данных с таблиц. Так у MongoDb существуют встроенные функции, позволяющие реализовать вышеупомянутый функционал - skip(Number) (позволяет пропустить требуемое количество), limit(Number) и sort(). В DynamoDb придется приложить больше усилий для реализации как пагинации, так и сортировки данных для нее. Одной из идей сортировки данных поставляемых с DynamoDb - создание дополнительного поля "момента создания" записи и назначения его partition в глобальном индексе, а в качестве сортировочного ключа использовать исходный partition ключ таблицы.

## Другие существенные отличия DynamoDB и MongoDb

К преимуществам DynamoDb  можно отнести автоматизацию мониторинга производительности и минимизацию задержек в обновлении данных, даже находящихся в разных регионах.
> Amazon позволяет настраивать оповещения о различных критичных изменений.

Чтобы изменить конфигурацию, создать дополнительные реплики, кластеры, реализовать шардинг в mongoDb потребуется производить в ручном режиме, что весьма проблемно для уже работающего приложения.

Что касается транзакций по принципу 'sql', то как и во многих NoSql базах, они не предусмотрены. Однако в mongoDb этот механизм может быть реализован с помощью атомарных операций, например findAndModify(document) и др.

Поля в DynamoDb ограничены 400kb, в то время как в MongoDb данное свойство можно настраивать в произвольном порядке.

MongoDb - позволяет осуществить сервисы, которые вы встретите и в DynamoDb, но это потребует больше усилий со стороны разработчиков, хоть и обеспечит осознанность действий.

К тому же для MongoDb написаны библиотеки для б*о*льшего количества языков программирования.

## Графики производительности

![](https://github.com/PerminovaAnastasia/Images/blob/master/Images/Рисунок1.png)

![](https://github.com/PerminovaAnastasia/Images/blob/master/Images/Рисунок2.png)

![](https://github.com/PerminovaAnastasia/Images/blob/master/Images/Рисунок3.png)

![](https://github.com/PerminovaAnastasia/Images/blob/master/Images/Рисунок4.png)

![](https://github.com/PerminovaAnastasia/Images/blob/master/Images/Рисунок5.png)

# Заключение
В заключении можно сказать, что это распространенные представители NoSql баз, с множеством преимуществ, но и с определенными недостатками, в частности заметна разница в производительности. Так, простота в обслуживании сопровождается некоторыми ограничениями, и наоборот, конфигурация всего того, что необходимо - максимально контролируется, что тоже сказывается на усложнении процесса. Поэтому стоит внимательно изучить какие манипуляции с базой необходимы для вашего приложения и, исходя из этого выбирать наиболее подходящую.
